import React,{useEffect,useState} from 'react'; import API from '../services/api'; import {useNavigate,useParams} from 'react-router-dom'; export default function EditVendor(){ const {id}=useParams(); const nav=useNavigate(); const [form,setForm]=useState(null); useEffect(()=>{ API.get('/vendors/'+id).then(r=>setForm(r.data)).catch(console.error); },[id]); const submit=async(e)=>{ e.preventDefault(); await API.put('/admin/vendors/'+id,form).catch(console.error); nav('/vendors'); }; if(!form) return <p>Loading...</p>; return (<div><h1>Edit Vendor</h1><form className='card' onSubmit={submit}><input value={form.name||''} onChange={e=>setForm({...form,name:e.target.value})}/><select value={form.type||''} onChange={e=>setForm({...form,type:e.target.value})}><option value='restaurant'>Restaurant</option><option value='grocery'>Grocery</option></select><input value={form.address||''} onChange={e=>setForm({...form,address:e.target.value})}/><button className='btn' type='submit'>Save</button></form></div>); }
