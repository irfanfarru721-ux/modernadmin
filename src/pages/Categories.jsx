import React,{useState,useEffect} from 'react'; import API from '../services/api'; export default function Categories(){ const [cats,setCats]=useState([]); const [name,setName]=useState(''); useEffect(()=>{ API.get('/categories').then(r=>setCats(r.data)).catch(console.error); },[]); const submit=async(e)=>{ e.preventDefault(); await API.post('/admin/categories',{name}).catch(console.error); setName(''); API.get('/categories').then(r=>setCats(r.data)); }; return (<div><h1>Categories</h1><form onSubmit={submit} style={{display:'flex',gap:8,marginBottom:12}}><input value={name} onChange={e=>setName(e.target.value)} placeholder='Category'/><button className='btn' type='submit'>Create</button></form><div style={{display:'grid',gap:8}}>{cats.map(c=>(<div key={c._id} className='card'>{c.name}</div>))}</div></div>); }
