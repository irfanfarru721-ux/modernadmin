import React,{useEffect,useState} from 'react'; import API from '../services/api'; import {Link} from 'react-router-dom'; export default function Products(){ const [p,setP]=useState([]); useEffect(()=>{ API.get('/products').then(r=>setP(r.data)).catch(console.error); },[]); return (<div><h1>Products</h1><Link to='/products/add' className='btn'>Add Product</Link><div style={{marginTop:12,display:'grid',gap:12}}>{p.map(x=>(<div key={x._id} className='card'><img src={x.image||''} alt='' style={{width:140,height:90,objectFit:'cover'}}/><h3>{x.name}</h3><p>â‚¹{x.price}</p><div style={{marginTop:8}}><Link to={'/products/edit/'+x._id} className='btn-ghost'>Edit</Link></div></div>))}</div></div>); }
